---
title: "流量"
publishdate: "2018-11-28T21:49:15Z"
draft: false
weight: 11
---

#### 介绍

可以通过 数据源列表 , 通道列表 , 数据表同步配置界面 ,及 导航栏 进行流量显示面板

从导航栏进去的流量面板,默认为全局流量显示

从数据源列表进去的流量面板,显示的是当前这个数据源下处理的流量

从通道列表进去的流量面板,显示的是当前通道流过的流量

从数据表同步配置界面等和表有关进去的面板.显示的是当前数据表处理的流量情况


#### 流量统计

数据进入到了 数据表配置的目标库队列中 就进行了统计,每5秒进行一次聚合. 

并不是数据同步到目标库 再进行统计的,所有流量显示只能参考,不能认定为目标库处理的性能


##### 字段解析

Count : <font color=#F00>每一条数据从通道队列中消费出来,写到了目标库队列中之后 </font> +1 ,假如一个 update事件有 N 条数据, 就 +N

ByteSize : 每一条数据从通道队列中消费出来,写到了目标库队列中之后 , + (单条消息大小 * 写到了多少个目标库队列中)


##### 案例

假如 T1 绑定了 default 通道, 写入了 10000 数据,每条数据大小 2Kb, 并且 T1 表配置同了 同步到 Redis,Mongodb,ClickHouse 三个目标库

计算方式

Count = 10000

ByteSize = 10000 * 2 * 3 = 60000 Kb


#### 显示面板


![image](/images/flow/flow_1.jpg)


增量 : 增量的方式进行数据显示

全量 : 自 Bifrost 上一次启动以来,处理了总的多少数据流量


1分钟 : 最近一分钟的流量

10分钟 : 最近10分钟的流量情况

1小时 : 最近1小时的流量情况

8小时 : 最近8小时的流量情况

24小时 : 最近24小时的流量情况

不支持超过 24 小时以前的流量情况显示


#### 首页流量


![image](/images/flow/flow_home.jpg)


首页里的流量是以增量的形式展示的

<font color=#F00>首页 条数 和  数据大小  是以选择了  最近多久的时间 的增量数据统计的</font>

比如首页默认显示的是 最近10分钟的流量情况

则条数 和 数据大小 则是 统计 最近10分钟内 新增的 条数 和 数据大小 







