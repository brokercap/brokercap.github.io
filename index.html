<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>前言 - Bifrost Document</title>
<meta name="description" content="Bifrost ---- 面向生产环境的 MySQL 同步到 Redis,MongoDB,ClickHouse 等服务的异构中间件">
<meta name="generator" content="Hugo 0.59.1" />
<link href="https://wiki.xbifrost.com/index.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://wiki.xbifrost.com/">
<link rel="stylesheet" href="https://wiki.xbifrost.com/css/theme.min.css">

<link rel="stylesheet" href="https://wiki.xbifrost.com/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://wiki.xbifrost.com/js/bundle.js"></script><style>
:root {
  
  
}
</style>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?fdbd10b9adfabd608077e3a7b008d923";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</head>
<body><div class="container"><header>
<h1>Bifrost Document</h1>

 <span class="version">Version 1.4.0</span>
<a href="https://github.com/brokercap/Bifrost" class="github"><i class="fab fa-github"></i></a>
<p class="description">Bifrost ---- 面向生产环境的 MySQL 同步到 Redis,MongoDB,ClickHouse 等服务的异构中间件</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="http://www.xbifrost.com">首页</a></li>
<li><a href="https://github.com/brokercap/Bifrost">Github</a></li>
<li><a href="https://gitee.com/jc3wish/Bifrost">Gitee</a></li>
<li><a href="https://github.com/brokercap/Bifrost/blob/master/changelog.txt">版本差异</a></li>
<li><a href="https://jc3wish.github.io">作者博客</a></li>
<li><a href="/other/contact_us/">联系我们</a></li>
<li><a href="/other/donate/">捐赠</a></li></ul>
</nav>
</div>
<div class="content-container">
<main>

<h2 id="bifrost-面向生产环境的-mysql-同步到-redis-mongodb-clickhouse-等服务的异构中间件">Bifrost &mdash;- 面向生产环境的 MySQL 同步到 Redis,MongoDB,ClickHouse 等服务的异构中间件</h2>

<p><em>Bifrost</em> 是一个可以通过界面配置,将 MySQL 数据库中的数据异构的方式同步到Redis,Mongodb,RabbitMQ等甚至自定义RPC服务里的 <em>简单 高效</em> 的 异构中间件 .</p>

<h5 id="为什么选择-bifrost-other-why"><a href="/other/why/">为什么选择 Bifrost ?</a></h5>

<h5 id="实时同步数据只要在界面上用-鼠标-点-点-点"><em>实时同步数据只要在界面上用 鼠标 点 点 点 &hellip;..</em></h5>

<p>提供 <a href="https://github.com/brokercap/Bifrost/releases">Linux</a> , <a href="https://github.com/brokercap/Bifrost/releases">mac</a> , <a href="https://github.com/brokercap/Bifrost/releases">windows</a> , <a href="https://github.com/brokercap/Bifrost/releases">freebsd</a>  平台二进制可执行文件下载.</p>

<p>源码下载(你的点击 star 就是对 Bifrost 最大的支持!!!): <a href="https://github.com/brokercap/Bifrost/"><svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>  , <a href="https://gitee.com/jc3wish/Bifrost"><img alt="码云 Gitee" style="background:#000" height="28" src="https://gitee.com//logo.svg?20171024" title="码云 Gitee — 基于 Git 的代码托管和研发协作平台" width="95"></a></p>

<p><em>Bifrsot</em> 支持同步到多种目标库, for example:</p>

<ul>
<li>Redis</li>
<li>Memcache</li>
<li>RabbitMQ</li>
<li>ActiveMQ</li>
<li>Kafka</li>
<li>Mongodb</li>
<li>ClickHouse</li>
<li>MySQL</li>
<li><a href="https://github.com/brokercap/Bifrost/blob/v1.1.x/plugin/http/example/http_server/http_server.go">Http 自定义服务</a></li>
<li><a href="https://github.com/brokercap/Bifrost/blob/v1.1.x/hprose_server/tcp_server.go">Hprose RPC 自定义服务</a></li>
</ul>

<h4 id="在线bifrost界面体验">在线Bifrost界面体验</h4>

<p><a href="http://www.xbifrost.com/demo/">http://www.xbifrost.com/demo/</a></p>

<p><img src="/images/bifrost.png" alt="image" /></p>

<h4 id="bifrsot-diagram"><em>Bifrsot</em> Diagram</h4>

<p><img src="/images/diagram.png" alt="image" /></p>

<h3 id="bifrost-特点">Bifrost 特点</h3>

<ul>
<li><p>支持 MySQL 所有存储类型</p></li>

<li><p><strong>界面化</strong>动态灵活配置不同的数据表及目标库</p></li>

<li><p>多数据源,<strong>多种目标库</strong>支持</p></li>

<li><p>同时支持 <strong>增量</strong> 及 <strong>全量</strong> 数据同步</p></li>

<li><p>宕机后重启自动恢复配置</p></li>

<li><p>支持自定义插件开发，动态加载</p></li>

<li><p>支持 Email 及 微信企业号等<strong>监控报警</strong>功能</p></li>

<li><p>提供第三方监控平台访问接口(Http Basic验证)</p></li>

<li><p>支持对 Null 的解析，但对 Null 的支持程度，取决于插件的支持，如果有 Null 数据，请查阅 相关插件文档</p></li>
</ul>

<h3 id="bifrost-还不足的地方">Bifrost 还不足的地方</h3>

<ul>
<li><p>支持批量刷数据的插件，在数据同步异常的情况下，不支持错过当前数据同步功能，例如： ClickHouse,Kafka</p></li>

<li><p>datetime,timestamp 解析还不支持精确到毫秒,毫秒部分将会自动被丢弃</p></li>
</ul>

<h3 id="mysql-版本-经过测试">MySQL 版本（经过测试）</h3>

<ul>
<li><p>5.1.73</p></li>

<li><p>5.5.42</p></li>

<li><p>5.6.36</p></li>

<li><p>5.7.18</p></li>

<li><p>8.0.11 (用户密码验证需要采用 mysql_native_password 方式)</p></li>
</ul>

<h3 id="安装">安装</h3>

<h5 id="编译">编译</h5>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">git clone https://github.com/brokercap/Bifrost.git

make install <span class="nv">prefix</span><span class="o">=</span>./target</code></pre></div>
<h5 id="二进制文件安装">二进制文件安装</h5>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">wget https://github.com/brokercap/Bifrost/releases/download/v1.3.2-release/linux.zip

unzip linux.zip

<span class="nb">cd</span> linux</code></pre></div>
<h5 id="启动">启动</h5>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./Bifrost-server start</code></pre></div>
<h5 id="停止">停止</h5>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">./Bifrost-server stop</code></pre></div>
<h5 id="界面管理">界面管理</h5>

<p><a href="https://127.0.0.1:21036">https://127.0.0.1:21036</a></p>

<p>用户名和密码是在 etc/Bifrost.ini 配置文件中配置的</p>

<p>默认用户名和密码</p>

<p>用户名：Bifrost</p>

<p>密码：Bifrost123</p>

<h5 id="docker启动">Docker启动</h5>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">docker pull jc3wish/bifrost

mkdir -p /data/BifrostData

docker run -d -p21036:21036 -v /data/BifrostData:/linux/data jc3wish/bifrost</code></pre></div>
<h5 id="配置">配置</h5>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">vim Bifrost.ini

<span class="o">[</span>user<span class="o">]</span>
<span class="c1">#登入用户名和密码</span>
<span class="c1">#用户名在前，= 号后面是密码</span>
<span class="nv">Bifrost</span><span class="o">=</span>Bifrost123
<span class="nv">BifrostMonitor</span><span class="o">=</span>Bifrost123

<span class="o">[</span>groups<span class="o">]</span>
<span class="c1">#administrator 管理人员可以添加删除等操作</span>
<span class="c1">#monitor 只能查看数据</span>
<span class="nv">Bifrost</span><span class="o">=</span>administrator
<span class="nv">BifrostMonitor</span><span class="o">=</span>monitor

<span class="o">[</span>Bifrostd<span class="o">]</span>
<span class="c1">#log写到入的文件夹，默认为启动文件所在文件夹下的logs目录</span>
<span class="c1">#log_dir=/data/log/</span>

<span class="c1">#监听端口,默认 0.0.0.0:21036</span>
<span class="nv">listen</span><span class="o">=</span><span class="m">0</span>.0.0.0:21036

<span class="c1">#通过界面配置的信息保存文件夹,默认为启动文件所在文件夹下的data目录</span>
<span class="nv">data_dir</span><span class="o">=</span>./

<span class="c1">#设置同步给第三方服务的队列大小，默认5000</span>
<span class="nv">toserver_queue_size</span><span class="o">=</span><span class="m">5000</span>

<span class="c1">#通道队列的大小，默认1000</span>
<span class="nv">channel_queue_size</span><span class="o">=</span><span class="m">1000</span>

<span class="c1">#是否支持动态加plugin so 插件，默认为false</span>
<span class="c1">#这个参数只在 linux 下有效，其他平台全部为false</span>
<span class="nv">dynamic_plugin</span><span class="o">=</span><span class="nb">false</span>

<span class="c1">#是否支持https</span>
<span class="nv">tls</span><span class="o">=</span><span class="nb">true</span>

<span class="c1">#server.key 及 server.crt 相对于 Bifrost 的路径，也可以填绝对路径</span>
<span class="nv">tls_key_file</span><span class="o">=</span>./etc/server.key
<span class="nv">tls_crt_file</span><span class="o">=</span>./etc/server.crt

<span class="c1">#采用什么方式存储,默认文件方式</span>
<span class="nv">meta_storage_type</span><span class="o">=</span>redis

<span class="c1">#存储介质的连接地址</span>
<span class="nv">meta_storage_path</span><span class="o">=</span><span class="m">127</span>.0.0.1:6379

<span class="c1">#用于区别实例的名字</span>
<span class="nv">cluster_name</span><span class="o">=</span>bifrostTestClusterName</code></pre></div>
<h5 id="生成https证书">生成https证书</h5>

<p><a href="https://github.com/brokercap/Bifrost/wiki/HTTPS%E8%AF%81%E4%B9%A6">参考证书生成</a></p>

<h3 id="界面操作文档">界面操作文档</h3>

<p><a href="http://www.xbifrost.com/">Bifrost官网</a></p>

<h3 id="感谢相关依懒包提供者">感谢相关依懒包提供者</h3>

<ul>
<li>github.com/gmallard/stompngo</li>
<li>github.com/hprose/hprose-golang</li>
<li>github.com/Shopify/sarama</li>
<li>github.com/bradfitz/gomemcache/memcache</li>
<li>gopkg.in/mgo.v2</li>
<li>github.com/streadway/amqp</li>
<li>github.com/go-redis/redis</li>
<li>github.com/syndtr/goleveldb/leveldb</li>
<li>github.com/ClickHouse/clickhouse-go</li>
</ul>

<h3 id="qq群号-70331601">QQ群号： 70331601</h3>

<p><img src="/images/qq.jpg" width="250" alt="qq群"/></p>
<nav class="pagination"><a class="nav nav-next" href="/install/" title="安装部署">Next - 安装部署 <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><div class="edit-meta">
Last updated on 7 Aug 2020


<br>
Published on 7 Aug 2020
<br><a href="https://github.com/brokercap/brokercap.github.io/edit/master/content/_index.md" class="edit-page"><i class="fas fa-pen-square"></i> Edit on GitHub</a></div><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="open-menu">
<ul>
<li class="active"><a href="https://wiki.xbifrost.com/">Home</a></li>

<li class=""><a href="/install/">安装部署</a>
  
<ul class="sub-menu">
<li class=""><a href="/install/data_source_build/">编译安装</a></li>
<li class=""><a href="/install/install_binary/">二进制安装</a></li>
<li class=""><a href="/install/config_doc/">启动配置解析</a></li>
<li class=""><a href="/install/https_certificate/">HTTPS证书</a></li>
</ul>
  
</li>

<li class=""><a href="/data_source/">数据源管理</a>
  
<ul class="sub-menu">
<li class=""><a href="/data_source/add/">数据源新增</a></li>
<li class=""><a href="/data_source/edit/">数据源修改</a></li>
<li class=""><a href="/data_source/binlog/">Binlog解析</a></li>
<li class=""><a href="/data_source/qa/">常见问题</a></li>
</ul>
  
</li>

<li class=""><a href="/plugin/">插件管理</a>
  
<ul class="sub-menu">
<li class=""><a href="/plugin/plugin_dev/">插件开发教程</a></li>
</ul>
  
</li>

<li class=""><a href="/dest/">目标库管理</a>
  
<ul class="sub-menu">

<li class=""><a href="/other/performancetest/">性能测试</a>
  
<ul class="sub-menu">
<li class=""><a href="/other/performancetest/testresult_1/">Mac 测试结果 1</a></li>
</ul>
  
</li>
</ul>
  
</li>

<li class=""><a href="/syncdata/">数据同步配置</a>
  
<ul class="sub-menu">
<li class=""><a href="/syncdata/sync_config/">数据表同步配置</a></li>
<li class=""><a href="/syncdata/sync_tag/">标签使用</a></li>
<li class=""><a href="/syncdata/sync_batch/">批量同步配置</a></li>
<li class=""><a href="/syncdata/sync_list/">同步列表字段解析</a></li>
<li class=""><a href="/syncdata/sync_history_config/">全量任务配置</a></li>
</ul>
  
</li>

<li class=""><a href="/filequeue/">文件队列</a>
  
<ul class="sub-menu">
<li class=""><a href="/filequeue/stroage/">文件存储</a></li>
<li class=""><a href="/filequeue/write/">数据写入</a></li>
<li class=""><a href="/filequeue/consumer/">数据消费</a></li>
<li class=""><a href="/filequeue/restart/">服务重启</a></li>
</ul>
  
</li>

<li class=""><a href="/channel/">通道</a>
  
</li>

<li class=""><a href="/flow/">流量</a>
  
</li>

<li class=""><a href="/warning/">报警</a>
  
<ul class="sub-menu">
<li class=""><a href="/warning/rule/">报警规则</a></li>
<li class=""><a href="/warning/weixin/">微信</a></li>
<li class=""><a href="/warning/email/">邮箱</a></li>
</ul>
  
</li>

<li class=""><a href="/user/">用户管理</a>
  
</li>

<li class=""><a href="/bristol/">二进制文件解析</a>
  
</li>

<li class=""><a href="/other/">其他</a>
  
<ul class="sub-menu">
<li class=""><a href="/other/how_used/">使用手册</a></li>
<li class=""><a href="/other/why/">为什么选择 Bifrost</a></li>
<li class=""><a href="/other/cluster_why_not/">Bifrost 为什么还不支持集群?</a></li>
<li class=""><a href="/other/cluster_may_design/">Bifrost 集群设想</a></li>

<li class=""><a href="/other/performancetest/">性能测试</a>
  
<ul class="sub-menu">
<li class=""><a href="/other/performancetest/testresult_1/">Mac 测试结果 1</a></li>
</ul>
  
</li>
<li class=""><a href="/other/web_api/">API接口</a></li>
<li class=""><a href="/other/support/">Bifrost 运维</a></li>
<li class=""><a href="/other/contact_us/">联系我们</a></li>
<li class=""><a href="/other/donate/">捐赠</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
